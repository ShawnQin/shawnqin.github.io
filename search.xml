<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[搭建个人博客和主页的简单方法]]></title>
    <url>%2F2019%2F03%2F30%2Fhexo%2F</url>
    <content type="text"><![CDATA[##有用的几个资料 Hexo-NexT配置超炫网页效果 非常详细的Next主题页面配置 这篇文章中给出的配置非常全，再复制使用前先搞明白每个表示什么意思 来自知乎上的资料]]></content>
      <tags>
        <tag>computer</tag>
        <tag>blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[LaTex Note]]></title>
    <url>%2F2017%2F06%2F29%2F2017-06-29-LaTex-Note%2F</url>
    <content type="text"><![CDATA[some useful resource Word count. TexCount is a project enable count of words in LaTex file. Simply downlaod and run the perl script texcount -[option] file 排版格式 manage .bib file Bibliography management with bibtex Bibliography management in LaTex natbib Using bibdesk to manage bibtex. I found it very convinent to use bibdesk, a very user-friend app under Mac OS X. When you write an article, you can import the bibtex entry of the papers you want site in a minimum bibtex style, so that you don’t need the abstract other stuffs in the .bib file. This really saved my life when I was preparing a Physics Review E manucript. LayoutUse geometry package to do sopholicated layout control. Page foot and header setup, details can be found in overleaf Syntax quotation . The simplest way to quote words or sentence is text’’ Use Eq.~(\ref{Eqn:label}) to cite equation Use split to split long equation insideequation environment, which only label once For array ##bibliograph and citationThe default biblatex citation stytle is natbib, here is the usage. The simplest example is123456789%Import the natbib package and sets a bibliography and citation styles\usepackage&#123;natbib&#125;\bibliographystyle&#123;abbrvnat&#125;\setcitestyle&#123;authoryear,open=&#123;((&#125;,close=&#123;))&#125;&#125;\begin&#123;document&#125;...%Imports the bibliography file &quot;sample.bib&quot;\bibliography&#123;sample&#125;\end&#123;document&#125; For a full list of stytle, see here The ohter management system is the package biblatex123456\usepackage[backend = biber,style=nature]&#123;biblatex&#125;\addbibresource&#123;library.bib&#125;\begin&#123;document&#125;...\printbibliography\end&#123;document&#125; BeamerStyle and layout suggestion of beamer presentation genearl tips for academic presentation Solve the math bold problem in other latex templateusing unicode-math 1234567891011121314\documentclass&#123;article&#125;\usepackage&#123;unicode-math&#125;\setmainfont&#123;XITS&#125;\setmathfont&#123;XITS Math&#125;\begin&#123;document&#125;This is a simple math example with a variable $k$.This works $\`&#123;k&#125;$.What I actually need is this: $\mathbfcal&#123;X&#125;$ and $\symbf&#123;\Theta&#125;$.Compare with $\mathcal&#123;X&#125;$ and $\Theta$.\end&#123;document&#125;]]></content>
      <tags>
        <tag>word count</tag>
        <tag>layout</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Resource]]></title>
    <url>%2F2016%2F12%2F26%2F2016-12-26-Resource%2F</url>
    <content type="text"><![CDATA[Here is some useful resource Scholarpedia http://www.scholarpedia.org Academic search engine semanticscholar Check the impact of journals scimagojr Report from web of knowledge sciencewatch Edge About effective learningI find this blogs extremely useful in building a habit for better learning. Some tricks for better learning. Git and GitHub Some tutorial about git Git简明教程 廖雪峰的教程 简书上的，里面的图关于工作原理讲得很清楚 VPS 国外可靠的VPS服务商 bandwagon vultr ​ 配置服务器和shadowsocks VPS上搭建Shadowsocks科学上网的那些事 文末有BBR加速配置 搬瓦工+shadowsocks 科学上网 ubuntu搭建ss服务器(shadowsocks) vultr 配置教程 iPad Pro 常用软件 笔记相关的软件 和这个 PDF expert Notability 一个全面的介绍 绘图软件推荐 豆瓣介绍 知乎介绍 Sublime 使用MarkdwonEditing FileDiffs 20个强大的sublime 插件 使用技巧 sublime 常用快捷键]]></content>
  </entry>
  <entry>
    <title><![CDATA[Coding tips]]></title>
    <url>%2F2016%2F12%2F26%2F2016-12-26-coding-tips%2F</url>
    <content type="text"><![CDATA[saving and loading MATLAB structure define data structure mystruct = struct(&#39;fieldName1&#39;,[],&#39;fieldName2&#39;,[],...), setting the values of each field: mystruct.fieldName1 = variable1. save struct preserve individual variables save(saveFileName, &#39;-struct&#39;,&#39;mystruct&#39;) run matlab in command line or Linux cluster. Use varargin to pass parameters, use matlab -r &quot;myscript(2)&quot; to run matlab script. enable parallel computing. MATLAB has several parallel computing tool boxes enable you to use the multiple cores to accelerate your code. The simplest way is at the beginning of script, inserting matlabpool numberofpool (after MATLAB 2013b，it is replaced by parpool), at the end of script add matlabpool colse. It seems that you cannot put a breakpoint inside a parfor loop. passing external parameters * When running a MATLAB script or function on a Linux cluster, the easiest way to pass paramter is use ajob submission shell script and use matlab -r &quot;myfunc(2)&quot; to pass paramters. Other methods can be found here.matlabpool numberofpool (after MATLAB 2013b，it is replaced by parpool), at the end of script add matlabpool colse Handle large matrix After MATLAB 2011b, you can use MAT-file to save and load part of a .mat file which accelerate speed when you are running out of memory. The official document can be found here. Usage: first tranform the big mat file into MAT-file, use matObj = matfile(&#39;myBigData.mat&#39;). But inorder to use this fucnction the save mat file has to be version 7.3 format, use save(&#39;myfile.mat&#39;,&#39;variables&#39;,&#39;-v7.3&#39;). eval This is a very useful function especially when you want to evaluate a certain commond or phrases in a loop or in a string vector. feval is the corresponding function for function handles. Advanced programming techniques can be found here and here. Tips on writing MATLAB function. A stratege to overcome the downside of varargin is to specify the name of each parameters, by doing so you don’t need to worry about the orer of different arguments. For example : function myfunc(varargin) [A,B,C,D,E] = process_options(varargin,&#39;A&#39;,3,&#39;B&#39;,1,&#39;C&#39;,2,&#39;D&#39;,5,&#39;E&#39;,9); A tutorial of debuging and optimization. Advanced graphics skill Best way to get the handle of a graphic is from the call. For example figH = figure(1,[10,200,10,200]) axH = axes().Or obtain the handle manually using gcf,gca and gco. Use get and set to query and set the value of objects of a graphic handle. V = get(han,&#39;Property&#39;) V = set(han,&#39;Property1&#39;,&#39;Val1&#39;) Axes properties From MATLAB 2014b, you can use different ways to specifiy the properties of axis. Figure 属性 Dock and undock figures You can set figures to be docked or not by setting figHandle.WindowStyle = &#39;docked&#39; or &#39;normal&#39;. This will be useful if you want to specify the size of figures and export them out. Print figure If your want to print the figure as you set, you need to set PaperPositionMode to be auto properties of axis Covert figures to LaTex-friend graphics. Either use matlabfrag,matlab2tikz,export_fig Since the default axis color of matalb figures is not pure black, this is really anoying . One way to set the default color into black is through the following command 1set(groot,&#123;&apos;DefaultAxesXColor&apos;,&apos;DefaultAxesYColor&apos;,&apos;DefaultAxesZColor&apos;&#125;,&#123;&apos;k&apos;,&apos;k&apos;,&apos;k&apos;&#125;) Heat map of matrix, imagesc can generate good colormap, with set(gca,&#39;CLim&#39;) argument, one can further make the color map a higher contrast. Fine tune and save graphics properties for further use. You can adjust the every aspect of a figure in the GUI, and the got to file–&gt; generate code, it will generate a function that produce exactly what you see. This function can be repeatly used latter. Print vector eps. Some times the output of print -depsc does not give the right vector graphics, try adding1234% Sets RendererMode to 'manual' automaticallyfigure('Renderer', 'Painters'); % or using the followingprint(gcf,'-depsc','-painters','myEps') Advanced settings on MATLAB default graphic properties Default Plot Settings in Matlab This is an excellent post on this topic. gram packagehere is the gram package, which mimic the famous ggplot2 pacakge in R, generating publish-quality graphics Chebfun packageA very useful numerical tool box for computing almost any function. see here for more detail. They also published a book of ODEs with many MATLAB analysis, can be freely downloaded here. An online tutorial is also provided Some tips Block comments. You can you %{ and %} pair to comment a block of code Causion of global variables. To make sure you delete the global variables after finish using them Passing extral parameter to complex function. Some times a complex function use another function as arguement, which itself contain other parameters 1234567891011121314%define function in extral m-filefunction [r1 r2] = myFun(x,a,b,c) % a,b,c are extral parameters r1 = build_in_fun(x,a,b); r2 = build_in_fun(x,a,c);end%in the main script% set the parametersa = a1;b = b1;c = c1;passFun = @(x)myFun(x,a,b,c); %define it after assigning values ot a,b,creturn = mainFun(passFun, para1,para2,options) Debug and breakpoint can be found here and here Passing extral parameter to the function1234567891011121314151617181920212223242526% define the function with extral parameter parsingfunction a = findArea(width,varargin) defaultHeight = 1; defaultUnits = 'inches'; defaultShape = 'rectangle'; expectedShapes = &#123;'square','rectangle','parallelogram'&#125;; p = inputParser; validScalarPosNum = @(x) isnumeric(x) &amp;&amp; isscalar(x) &amp;&amp; (x &gt; 0); addRequired(p,'width',validScalarPosNum); addParameter(p,'height',defaultHeight,validScalarPosNum); addParameter(p,'units',defaultUnits,@isstring); addParameter(p,'shape',defaultShape,... @(x) any(validatestring(x,expectedShapes))); addOptional(p,'test',1,@isnumeric) parse(p,width,varargin&#123;:&#125;); a = p.Results.width*p.Results.height; end% now you can call the function in servearl waysa = findArea(7);a = findArea(7,3);a = findArea(13,'shape','square');a = findArea(13,'units',"miles",'shape','square'); Generating correlation matrix Some methods used to generate random or structured random correlation matrix see here use imgesc to plot a heatmap of matrix, the color style can be customed Use the build in function gallery(&#39;randcorr&#39;,X), where the eigenvalues are specified by X,whose sum should be n, the dimension of correlation matrix MATLAB parallel toolBefore MATLAB 2014, we can use parfor and matlabpool local numWorkers to parallelize the code. In MATLAB 2017, the implementation is more flexible and the utilization of parfor is slightly different, we don’t need to explicilty open matlab pool before parfor. See the document for more information. A simple example is1234567function y = specify_num_workers(w) y = ones(1,100); % w specifies maximum number of workers parfor (i = 1:100,w) y(i) = i; endend When runining the parallel program on cluster, using parpool(N) to explicitly handle the timeout issue1parpool(4, 'IdleTimeout', Inf) ###Explicit Paralleization MathWorks now offers two MATLAB toolboxes dedicated to parallelization: the Parallel Computing Toolbox (PCT), and the MATLAB Distributed Computing Server (MDCS) Implicit multithreading is automatically employed by numerous built-in MATLAB functions Explicit multiprocessing: Multiple instances of MATLAB run on several processors, often with shared memory, and execute a single MATLAB command or M-function concurrently. Supported by dedicated PCT programming constructs Distributed computing: Multiple instances of MATLAB run multiple independent computations on separate computers, each with its own memory, typically in a cluster, grid or cloud. ####The Parallel Computing Toolbox Using more workers than available cores generally decreases performance due to increased task-switching and communication overheads the iteration values of a parfor statement must be increasing consecutive integers ###The MATLAB Distributed Computing Server PCT only allows us to access computing resources (CPU cores or GPUs) on the same machine (node). It does not enable work parallelization across separate com- puting nodes (cluster, grid, or cloud) To run task across multiple nodes need some configuration of the MATLAB, see here for example. I also tried to test this in a folder /Users/shan/Documents/MATLAB/paralTest and /home/tangc_pkuhpc/lustre1/ssqin/olfactoryCoding/optiInterMatrix/paralTest. See also chapter 6 of the book acceleration MATLAB performance Dealing with dependency 确定程序依赖项. 使用 matlab.codetools.requiredFilesAndProducts(&#39;myFun.m&#39;) 可以详细列出myFun.m 所依赖的其他文件。 Random number generation​ Rejection sampling, simple yet inefficient run matlab on cluster . When use batch to submit same program running on different CPU, one should causion about the random number seed. We can use sleep 1s in shell script, or reading an extral random number as the seeds. Sparse matrix use spfun(myFun,S), where myFun is a function handle, S is the sparse matrix. Permenantly add folder and subfolders to the MATLAB searching path Uisng the startup.m file. Creat the file under the path /Applications/MATLAB_R2016b.app/toolbox/local&#39; or/opt/MATLAB2017a/toolbox/local’12345678% set the default folder when matlab startcd /full/path/of/folder/you/want% add pathaddpath folername%also add subfoldersaddpath(genpath('foldername')) #Mathematica install 破解版. 还有这个 C languagesome tutorial [online learning ]https://www.cprogramming.com/tutorial/c-tutorial.html 内存管理 Valgrind and also here IBM general introduction [Xcode instrument检查内】(http://blog.csdn.net/Zsk_Zane/article/details/52016411) Useful packages t-SNE CLS 集群作业调度系统 SLURM 官网介绍 1234567PARTITION AVAIL TIMELIMIT NODES STATE NODELISTdebug* up 30:00 1 down* c12b01n02debug* up 30:00 1 idle c12b01n01cn-test up 13-00:00:0 1 drain* c01b01n01cn-test up 13-00:00:0 5 idle c01b01n[02-06]cn-large up 5-00:00:00 7 drain* c13b04n[01,04],c15b04n[07,10],c16b02n14,c16b04n[01,05]cn-large up 5-00:00:00 30 dow Here the following debug means that the default partition for submitted jobs. The following the state down indicate the nodes are not responding. 12345adev0: squeueJOBID PARTITION NAME USER ST TIME NODES NODELIST(REASON)65646 batch chem mike R 24:19 2 adev[7-8]65647 batch bio joan R 0:09 1 adev1465648 batch math phil PD 0:00 6 (Resources) Typical reasons for pending jobs are Resources (waiting for resources to become available) and Priority(queued behind a higher priority job) The scontrolcommand can be used to report more detailed information about nodes, partitions, jobs, job steps, and configuration. 123456789101112#!/bin/bash#SBATCH -J mat104648#SBATCH -p cn-short#SBATCH -N 1#SBATCH -o mat104648_%j.out#SBATCH -e mat104648_%j.err#SBATCH --no-requeue#SBATCH -A tangc_g1#SBATCH --qos=tangccns#SBATCH --nodelist=c01b06n05#SBATCH -c 20pkurun matlab -r SolveTargetFun Specifify more nodes in script, it is hard to achieve, but we can work around by exclude some nodes 1#SBATCH -x ./nodelist the content of node list is just those nodes with state mix, comma separated1c01b01n[07-12],c01b02n02,c01b05n[05-08,11-12],c02b05n[05-06,10],c03b01n[05,08,11-12],c03b02n12,c03b03n03,c03b04n[04,08-10],c04b01n[01-02,04,10-11],c04b02n[01-03],c05b01n[01,05,07,09-10],c05b03n[10-12],c05b05n[09-10,12],c06b04n09 A example for submite12345678910111213141516171819202122#!/bin/bash#read the rng seed fileseed=($(awk '&#123;print $1&#125;' rngSeed.txt))echo $seedfName='gcmiWhole_sum_new'num=(1)allN=(100)#allN=(100) 11 allR=(30) 12 #allR=(6 7 7) 13 #N=100 14 #R=21 15 16 #number of nonzero element 17 Cons="'none'" 18 19 tp='wholeMat' 20 corr='indep' 21 S1=30 22 R0=1 23 S0=1 File transfer in Mac using FileZillaWith simple configuration, we can transfer files to cluster without repeatly type the password. First, login 10.100.1.88, and download a samll client shterm-client (better put it inside Applications). Second, select one or more hosts and double clicks, it will pop out a small window asking you whether open shterm, hit yes. Now you can see filezilla automatically popout. Succeed!]]></content>
      <categories>
        <category>programming</category>
      </categories>
      <tags>
        <tag>coding</tag>
        <tag>matlab</tag>
        <tag>python</tag>
        <tag>R</tag>
        <tag>graphics</tag>
      </tags>
  </entry>
</search>
